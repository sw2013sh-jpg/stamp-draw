<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìŠ¤íƒ¬í”„ íˆ¬ì–´ ì¶”ì²¨</title>
<style>
body {
    font-family: 'Arial', sans-serif;
    text-align: center;
    padding: 50px;
    background-color: #e0f7fa;
    background-image: url('https://images.unsplash.com/photo-1526223263457-184c004f49c5?auto=format&fit=crop&w=1470&q=80');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    color: #004d40;
    overflow: hidden;
}
h1 {
    color: #ff9800;
    text-shadow: 2px 2px #004d40;
}
#result {
    margin-top: 30px;
    font-size: 2em;
    font-weight: bold;
    color: #d32f2f;
    text-shadow: 1px 1px #fff;
    min-height: 80px;
}
button {
    padding: 15px 40px;
    font-size: 1.2em;
    background-color: #ffeb3b;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    margin-top: 20px;
}
button:hover {
    transform: scale(1.1);
    background-color: #ffc107;
}
button:disabled {
    background-color: #9e9e9e;
    cursor: not-allowed;
}

/* í­ì£½ íš¨ê³¼ */
.firework {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    opacity: 1;
    animation: explode linear forwards;
    box-shadow: 0 0 10px #fff;
}

@keyframes explode {
    0% {
        transform: scale(1) translate(0,0);
        opacity: 1;
    }
    100% {
        transform: scale(var(--scale,3)) translate(var(--x,0), var(--y,0));
        opacity: 0;
    }
}
</style>
</head>
<body>

<h1>ğŸ‰ ìŠ¤íƒ¬í”„ íˆ¬ì–´ ì¶”ì²¨ ğŸ‰</h1>
<p>ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì¦‰ì„ì—ì„œ ìƒí’ˆì„ í™•ì¸í•˜ì„¸ìš”!</p>

<button onclick="draw()">ğŸ² ì¶”ì²¨í•˜ê¸°</button>

<div id="result"></div>

<script>
// ìƒí’ˆ ë°°ì—´
let prizes = [];
for(let i=0;i<5;i++) prizes.push({text:"ğŸ† 1ë“± ë‹¹ì²¨! 2ë§Œì› ìƒí’ˆ!", level:3});
for(let i=0;i<25;i++) prizes.push({text:"ğŸ‰ 2ë“± ë‹¹ì²¨! 1ë§Œì› ìƒí’ˆ!", level:2});
for(let i=0;i<40;i++) prizes.push({text:"ğŸ 3ë“± ë‹¹ì²¨! JJ í‚¤ë§!", level:1});

// ì„ê¸°
for(let i=prizes.length-1;i>0;i--){
    let j=Math.floor(Math.random()*(i+1));
    [prizes[i],prizes[j]]=[prizes[j],prizes[i]];
}

function draw(){
    const btn=document.querySelector("button");
    const resultDiv=document.getElementById("result");
    btn.disabled=true;
    btn.innerText="ì¶”ì²¨ ì¤‘... â³";

    if(prizes.length===0){
        resultDiv.innerText="ëª¨ë“  ìƒí’ˆì´ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!";
        btn.innerText="ì¶”ì²¨ ì¢…ë£Œ âŒ";
        return;
    }

    // ë‘êµ¬ë‘êµ¬ 2ì´ˆ, 0.3ì´ˆë§ˆë‹¤ ì¶”ê°€
    let dots="ë‘êµ¬";
    resultDiv.innerText=dots;
    let count=0;
    const interval=setInterval(()=>{
        dots+=" ë‘êµ¬";
        resultDiv.innerText=dots;
        count++;
        if(count>=6){ // ì•½ 1.8ì´ˆ
            clearInterval(interval);
            const prize=prizes.pop();
            resultDiv.innerText=prize.text;
            btn.innerText="ì¶”ì²¨ ì™„ë£Œ âœ…";

            // í­ì£½ ìƒì„±, ë“±ìˆ˜ë³„ í™”ë ¤í•¨
            let fireworkCount = prize.level * 20; // 3ë“±:20, 2ë“±:40, 1ë“±:60
            for(let i=0;i<fireworkCount;i++){
                createFirework(prize.level);
            }
        }
    },300);
}

// í­ì£½ ìƒì„±
function createFirework(level){
    const firework=document.createElement("div");
    firework.className="firework";

    const colors=["#ffeb3b","#f44336","#00e676","#2196f3","#ff4081","#ff9800","#9c27b0","#ffffff","#ff5722"];
    firework.style.background=colors[Math.floor(Math.random()*colors.length)];

    // ë‹¤ì¸µ í¼ì§ (zIndexë¡œ ì¸µ ë¶„ë¦¬)
    const layer = Math.floor(Math.random()*level) + 1; // 1~levelì¸µ
    firework.style.zIndex = layer;

    // ì¸µë³„ ê±°ë¦¬ ì¦ê°€ + ëœë¤ì„± ì¶”ê°€
    const distance = layer * 200 + Math.random()*100;
    const x=(Math.random()-0.5)*distance + "px";
    const y=(Math.random()-0.5)*distance + "px";
    firework.style.setProperty('--x', x);
    firework.style.setProperty('--y', y);

    // ìŠ¤ì¼€ì¼ê³¼ ì†ë„ ë‹¤ì–‘í™”
    const scale=(Math.random()*2 + 2*layer).toFixed(1);
    const duration=(Math.random()*1.2 + 0.8).toFixed(2); // 0.8~2ì´ˆ
    firework.style.setProperty('--scale', scale);
    firework.style.animationDuration=duration+"s";

    document.body.appendChild(firework);
    setTimeout(()=>firework.remove(), parseFloat(duration)*1000);
}
</script>

</body>
</html>
